{% extends "base.html.twig" %}
{% block title %}Acceuil{% endblock %}
{% block body %}
    <!-- introSlider -->
    <section class="slick-fade slickSlider introSlider">
        <div>
            <!-- introSlide -->
            <article class="introSlide bgCover" style="background-image:linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.2) ), url({{ asset('images/slide1.jpg') }});">
                <div class="container introSlideHolder">
                
                    <div class="align">
                        <h1 style="color:#fff;font-size:50px">Bienvenue à Araabya</h1>
                        <p style="color:#fff;">Lorem ipsum dolor sit amet, consectetur adipisicing elit,<br> sed diam nonummy nibh elit</p>
                        <a href="/register" class="btn btn-primary ">Créer un compte</a>
                    </div>
                </div>
            </article>
        </div>
        <div>
            <!-- introSlide -->
            <article class="introSlide bgCover" style="background-image:linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.2) ), url({{ asset('images/slide2.jpg') }});">
                <div class="container introSlideHolder">
                    <div class="align">
                        <h1 style="color:#fff;font-size:50px">Bienvenue à Araabya</h1>
                        <p style="color:#fff;">Lorem ipsum dolor sit amet, consectetur adipisicing elit,<br> sed diam nonummy nibh elit</p>
                        <a href="{{ path('post_index')}}" class="btn btn-primary ">Voir nos actualités</a>
                    </div>
                </div>
            </article>
        </div>
        
    </section>
    
    <!-- latestPostsBlock -->
    <section class="latestPostsBlock container">
        <!-- rowHead -->
        <header class="row rowHead">
            <div class="col-xs-12 col-sm-5">
                <h1 class="fontNeuron blockH text-uppercase"><span class="bdrBottom">DERNIERS ACTUALITES</h1>
            </div>
            <div class="col-xs-12 col-sm-7">
                <!-- postsFiltersList -->
                <ul class="list-unstyled postsFiltersList text-capitalize text-center isoFiltersList">
                    <li class="active"><a href="#" class="post_fliters" data-time="">Tous</a></li>
                    <li><a href="#" class="post_fliters" data-time="lt_week">de cette semaine</a></li>
                    <li><a href="#" class="post_fliters" data-time="lt_month">de ce mois</a></li>
                </ul>
            </div>
        </header>
        <!-- isoContentHolder -->
        <div class="isoContentHolder" id="posts_section">
            
            {# {% include "/home/_posts.html.twig" %} #}
        </div>
        <div class="row text-center btnHolder">
            <a href="{{ path('post_index') }}" class="btn btn-primary btnPrimaryOutline text-capitalize fontNeuron">voir plus d'articles</a>
        </div>
    </section>
    
    
    
    <!-- newsNstoriesBlock -->
    <section class="bgWhite newsNstoriesBlock">
        <div class="container">
            <h1 class="fontNeuron blockH text-uppercase"><span class="bdrBottom">La presse</h1>
            <div class="row">
                <!-- newsCarousel -->
                <div class="news-posts-carousel slickSlider newsCarousel">
                {% for post in presses %}
                    
                
                    <div>
                        <div class="col-xs-12">
                            <!-- newsPostColumn -->
                            <article class="newsPostColumn">
                                <div class="aligncenter">
                                    <a href="{{ path('post_show', {slug: post.slug}) }}">
                                        <img src="https://via.placeholder.com/555x310" alt="image description">
                                    </a>
                                </div>
                                <h2 class="fontNeuron"><a href="{{ path('post_show', {slug: post.slug}) }}">{{ post.title }}</a></h2>
                                <p>
                                    <a href="#" class="btn btnSmall btn-info">{{ post.user.username }}</a>
                                    <time datetime="2011-01-12">{{ post.createdAt|date('d/m/Y') }}</time>
                                </p>
                                <footer class="PostColumnFoot">
                                    <a href="{{ path('post_show', {slug: post.slug}) }}" class="elemenBlock readMore text-capitalize">Lire <i class="fi flaticon-arrows readMoreIcn"></i></a>
                                </footer>
                            </article>
                        </div>
                    </div>

                {% endfor %}
                    
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block javascripts %}
    <script>
        $(document).ready(function(){
            $('.post_fliters').on('click', function(){
                var loader='<div class="lds-dual-ring"></div>';
                var time = $(this).data('time');
                var url = "{{ path('filter_posts')}}?time="+time;
                console.log(url);
                $.ajax({
                    url,
                    beforeSend: function() {
                        $('#posts_section').html(loader);
                    }
                }).done(function(data){
                    if(data) {
                        $('#posts_section').html(data);
                    }
                });
            });
        });
    </script>
{% endblock %}